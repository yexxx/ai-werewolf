export type Language = 'en' | 'zh';

export const translations = {
  en: {
    setup: {
      title: "AI Werewolf",
      globalAI: "Global AI Configuration",
      applyAll: "Apply to all AI",
      players: "Players",
      start: "Start Game",
      human: "Human",
      ai: "AI",
      baseURL: "Base URL",
      apiKey: "API Key",
      model: "Model",
      name: "Name",
      description: "Configure 12 players for the game.",
    },
    game: {
      godView: "God View",
      day: "Day",
      night: "Night",
      gameOver: "Game Over",
      winner: "Winner",
      villagersWin: "Villagers Win!",
      werewolvesWin: "Werewolves Win!",
      playAgain: "Play Again",
      gameLog: "Game Log",
      private: "Private",
      waitingFor: "Waiting for Player",
      actionsInProgress: "Actions in progress...",
      skip: "Skip / Abstain",
      sendMessage: "Send Message",
      targetPlayer: "Target Player",
      confirm: "Confirm",
      unknownRole: "Unknown Role",
      dead: "Dead",
      thinking: "Thinking...",
    },
    prompts: {
      guard: "Choose a player to protect.",
      wolfDiscuss: "Night phase: Werewolf discussion. What do you want to say to your teammates? (0 to skip)",
      wolfDiscussing: "Werewolves are discussing...",
      wolfKill: "Choose a player to kill.",
      wolfVoting: "Werewolves are voting...",
      witchSave: "Player {target} was killed. Use save potion? Target {target} to save, 0 to skip.",
      witchPoison: "Use poison potion? Choose a target, or 0 to skip.",
      seerCheck: "Choose a player to check.",
      daySpeech: "It is your turn to speak.",
      voteExile: "Vote for a player to exile.",
      playersVoting: "Players are voting...",
      lastWords: "You have been exiled. What are your last words?",
      hunterShoot: "You died. Choose a player to shoot.",
      runSheriff: "Do you want to run for Sheriff? (Target yourself to run, 0 to skip)",
      sheriffSpeech: "Sheriff Election Speech.",
      voteSheriff: "Vote for Sheriff.",
      sheriffVoting: "Players are voting for Sheriff...",
    },
    subPhases: {
      Guard: "Guard's Turn",
      WerewolfDiscuss: "Werewolf Discussion",
      Werewolf: "Werewolf's Turn",
      Witch: "Witch's Turn",
      Seer: "Seer's Turn",
      Announce: "Morning Announcement",
      Speech: "Player Speeches",
      Vote: "Voting Phase",
      LastWords: "Last Words",
      HunterShoot: "Hunter's Revenge",
      SheriffRun: "Sheriff Election",
      SheriffSpeech: "Sheriff Speeches",
      SheriffVote: "Sheriff Voting",
    },
    deathReasons: {
      Killed: "Killed",
      Exiled: "Exiled",
      Shot: "Shot",
      Poisoned: "Poisoned",
    },
    roles: {
      Villager: "Villager",
      Werewolf: "Werewolf",
      Seer: "Seer",
      Witch: "Witch",
      Hunter: "Hunter",
      Guard: "Guard"
    },
    log: {
      gameStarted: "Game started! Night falls.",
      thought: "[Player {id} Thought] {thought}",
      guardProtected: "Guard protected {target}",
      werewolfSpeech: "[Player {id} (Werewolf)] {speech}",
      werewolfKillIntent: "Player {id} wants to kill Player {target}",
      werewolvesKill: "Werewolves decided to kill {target}",
      witchSaved: "Witch saved {target}",
      witchPoisoned: "Witch poisoned {target}",
      seerChecked: "You checked {target}. They are {result}.",
      seerResultWolf: "a Werewolf",
      seerResultGood: "Good",
      peacefulNight: "Last night, it was a peaceful night. No one died.",
      diedTonight: "Last night, players died: {targets}",
      speech: "[Player {id}] {speech}",
      votedFor: "Player {id} voted for Player {target}",
      abstained: "Player {id} abstained from voting",
      exiled: "Player {id} was exiled.",
      lastWords: "[Player {id} Last Words] {speech}",
      votingTiedExile: "Voting tied. No one was exiled today.",
      noOneExiled: "No one was exiled today.",
      hunterShot: "Hunter {id} shot Player {target}!",
      hunterNoShoot: "Hunter {id} chose not to shoot.",
      runningForSheriff: "Player {id} is running for Sheriff.",
      sheriffSpeech: "[Player {id} Sheriff Speech] {speech}",
      votedForSheriff: "Player {id} voted for Player {target} as Sheriff",
      electedSheriff: "Player {id} was elected Sheriff!",
      votingTiedSheriff: "Voting tied. No Sheriff was elected.",
      noSheriffElected: "No Sheriff was elected.",
      noOneRanForSheriff: "No one ran for Sheriff.",
      villagersWin: "All werewolves are dead. Villagers win!",
      werewolvesWin: "Werewolves have slaughtered a side. Werewolves win!",
      unconfiguredAI: "I am an unconfigured AI."
    }
  },
  zh: {
    setup: {
      title: "AI 狼人杀",
      globalAI: "全局 AI 配置",
      applyAll: "应用到所有 AI",
      players: "玩家",
      start: "开始游戏",
      human: "人类",
      ai: "AI",
      baseURL: "Base URL",
      apiKey: "API Key",
      model: "模型",
      name: "名字",
      description: "配置 12 名玩家开始游戏。",
    },
    game: {
      godView: "上帝视角",
      day: "白天",
      night: "夜晚",
      gameOver: "游戏结束",
      winner: "获胜方",
      villagersWin: "好人阵营胜利！",
      werewolvesWin: "狼人阵营胜利！",
      playAgain: "再来一局",
      gameLog: "游戏日志",
      private: "私密",
      waitingFor: "等待玩家",
      actionsInProgress: "行动进行中...",
      skip: "跳过 / 弃权",
      sendMessage: "发送消息",
      targetPlayer: "目标玩家",
      confirm: "确认",
      unknownRole: "未知身份",
      dead: "已死亡",
      thinking: "思考中...",
    },
    prompts: {
      guard: "请选择一名玩家进行守护。",
      wolfDiscuss: "黑夜阶段：狼人讨论。你想对队友说什么？（输入 0 跳过）",
      wolfDiscussing: "狼人们正在讨论...",
      wolfKill: "请选择一名玩家进行击杀。",
      wolfVoting: "狼人们正在投票...",
      witchSave: "玩家 {target} 被击杀了。要使用救药吗？目标 {target} 救人，0 跳过。",
      witchPoison: "要使用毒药吗？请选择一个目标，或输入 0 跳过。",
      seerCheck: "请选择一名玩家进行查验。",
      daySpeech: "轮到你发言了。",
      voteExile: "请投票选出要放逐的玩家。",
      playersVoting: "玩家们正在投票...",
      lastWords: "你被放逐了。你有什么遗言？",
      hunterShoot: "你死亡了。请选择一名玩家进行射击。",
      runSheriff: "你想竞选警长吗？（选择自己竞选，0 跳过）",
      sheriffSpeech: "警长竞选发言。",
      voteSheriff: "请投票选出警长。",
      sheriffVoting: "玩家们正在投票选举警长...",
    },
    subPhases: {
      Guard: "守卫行动",
      WerewolfDiscuss: "狼人讨论",
      Werewolf: "狼人行动",
      Witch: "女巫行动",
      Seer: "预言家行动",
      Announce: "公布昨晚情况",
      Speech: "玩家发言",
      Vote: "投票阶段",
      LastWords: "发表遗言",
      HunterShoot: "猎人开枪",
      SheriffRun: "竞选警长",
      SheriffSpeech: "警长竞选发言",
      SheriffVote: "警长投票",
    },
    deathReasons: {
      Killed: "被击杀",
      Exiled: "被放逐",
      Shot: "被射杀",
      Poisoned: "被毒杀",
    },
    roles: {
      Villager: "平民",
      Werewolf: "狼人",
      Seer: "预言家",
      Witch: "女巫",
      Hunter: "猎人",
      Guard: "守卫"
    },
    log: {
      gameStarted: "游戏开始！天黑请闭眼。",
      thought: "[玩家 {id} 的内心想法] {thought}",
      guardProtected: "守卫保护了 {target}",
      werewolfSpeech: "[玩家 {id} (狼人)] {speech}",
      werewolfKillIntent: "玩家 {id} 想要击杀玩家 {target}",
      werewolvesKill: "狼人决定击杀 {target}",
      witchSaved: "女巫救了 {target}",
      witchPoisoned: "女巫毒死了 {target}",
      seerChecked: "你查验了 {target}。他们是{result}。",
      seerResultWolf: "狼人",
      seerResultGood: "好人",
      peacefulNight: "昨晚是平安夜。没有人死亡。",
      diedTonight: "昨晚死亡的玩家：{targets}",
      speech: "[玩家 {id}] {speech}",
      votedFor: "玩家 {id} 投票给了玩家 {target}",
      abstained: "玩家 {id} 弃权了",
      exiled: "玩家 {id} 被放逐了。",
      lastWords: "[玩家 {id} 的遗言] {speech}",
      votingTiedExile: "平票。今天没有人被放逐。",
      noOneExiled: "今天没有人被放逐。",
      hunterShot: "猎人 {id} 开枪带走了玩家 {target}！",
      hunterNoShoot: "猎人 {id} 选择了不开枪。",
      runningForSheriff: "玩家 {id} 竞选警长。",
      sheriffSpeech: "[玩家 {id} 竞选发言] {speech}",
      votedForSheriff: "玩家 {id} 投票给玩家 {target} 竞选警长",
      electedSheriff: "玩家 {id} 当选为警长！",
      votingTiedSheriff: "平票。没有选出警长。",
      noSheriffElected: "没有选出警长。",
      noOneRanForSheriff: "没有人竞选警长。",
      villagersWin: "所有狼人都已死亡。好人阵营胜利！",
      werewolvesWin: "狼人屠边成功。狼人阵营胜利！",
      unconfiguredAI: "我是一个未配置的 AI。"
    }
  }
};

export const t = (key: string, lang: Language, params?: Record<string, string | number>): string => {
  const keys = key.split('.');
  let current: any = translations[lang];
  for (const k of keys) {
    if (current && current[k] !== undefined) {
      current = current[k];
    } else {
      return key;
    }
  }
  let result = current as string;
  if (params) {
    for (const [k, v] of Object.entries(params)) {
      result = result.replace(new RegExp(`{${k}}`, 'g'), String(v));
    }
  }
  return result;
};
